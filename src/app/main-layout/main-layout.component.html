<div class="top-nav">
	<div class="top-nav-inner">
		<div class="left">
			<button class="side-toggle" (click)="toggleSideNav()" [class.rotated]="sideNavCollapsed" aria-label="Toggle sidebar">
			  <!-- toggle svg -->
			  <svg class="toggle-icon" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg" fill="none"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(3 3)"><path d="m.5 12.5v-10c0-1.1045695.8954305-2 2-2h10c1.1045695 0 2 .8954305 2 2v10c0 1.1045695-.8954305 2-2 2h-10c-1.1045695 0-2-.8954305-2-2z"></path><path d="m12.5 12.5v-10c0-1.1045695-.8954305-2-2-2h2c1 0 2 .8954305 2 2v10c0 1.1045695-1 2-2 2h-2c1.1045695 0 2-.8954305 2-2z" fill="currentColor"></path><path d="m7.5 10.5 3-3-3-3" stroke="currentColor"></path><path d="m10.5 7.5h-8" stroke="currentColor"></path></g></svg>
			</button>
			<div class="brand">Fundo IMS</div>
		</div>

		<div class="center-search">
			<div class="search-box">
				<input type="search" placeholder="Search here" aria-label="Search" />
				<!-- search icon -->
				<svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#374151" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#374151" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
			</div>
		</div>

		<div class="right">
			<button class="icon-btn" aria-label="notifications">
				<!-- notifications svg fallback -->
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path opacity="0.4" d="M16.19 2H7.82C4.17 2 2 4.17 2 7.81V16.18C2 19.82 4.17 21.99 7.81 21.99H16.18C19.82 21.99 21.99 19.82 21.99 16.18V7.81C22 4.17 19.83 2 16.19 2Z" fill="#292D32"></path>
					<path d="M16.25 2.0002V12.42C16.25 13.06 16.06 13.54 15.73 13.73C15.39 13.93 14.85 13.83 14.25 13.47L12.93 12.68C12.42 12.37 11.58 12.37 11.07 12.68L9.75 13.47C9.15 13.83 8.61 13.92 8.27 13.73C7.94 13.54 7.75 13.06 7.75 12.42V2.00027C7.77327 2.00009 7.79661 2 7.82 2H16.19C16.21 2 16.23 2.00007 16.25 2.0002Z" fill="#292D32"/>
				</svg>
				<span class="badge" *ngIf="notificationsCount>0">{{ notificationsCount }}</span>
			</button>

			<button class="icon-btn help-btn" aria-label="help">
				<!-- inline smaller help icon but colored blue to match your request -->
				<svg class="top-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" width="18" height="18"><circle cx="12" cy="12" r="10" stroke="#2563eb" stroke-width="1.4"/><path d="M9.5 9.5a2.5 2.5 0 1 1 5 0c0 2-3 2.25-3 4" stroke="#2563eb" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 17h.01" stroke="#2563eb" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
			</button>

			<!-- mobile hamburger (animated into X) -->
			<button class="hamburger mobile-only" [class.open]="mobileMenuOpen" (click)="toggleMobileMenu()" aria-label="menu" title="Menu">
			  <span></span>
			  <span></span>
			  <span></span>
			</button>

			<div class="user-wrap">
				<button class="user-btn" (click)="toggleUserMenu()" aria-label="user menu">
					<img *ngIf="userPhotoUrl; else initials" [src]="userPhotoUrl" alt="user" class="user-img"/>
					<ng-template #initials>
						<div class="user-initials">U</div>
					</ng-template>
				</button>

				<div class="user-menu" *ngIf="showUserMenu">
					<button class="user-menu-item" (click)="navigateTo('/settings')">Account settings</button>
					<hr />
					<button class="user-menu-item" (click)="signOut()">Sign out</button>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- mobile drawer and backdrop -->
<div class="mobile-drawer" [class.open]="mobileMenuOpen">
	<div class="mobile-drawer-header">
		<div class="mobile-user">
			<img *ngIf="userPhotoUrl; else initialsSmall" [src]="userPhotoUrl" alt="user" class="mobile-user-img" />
			<ng-template #initialsSmall>
				<div class="mobile-user-initials">U</div>
			</ng-template>
			<div class="mobile-user-name">{{ userDisplayName }}</div>
		</div>
	</div>
	<nav class="mobile-nav">
		<ul>
			<li><a routerLink="/app/dashboard" (click)="closeMobileMenu()">Dashboard</a></li>
			<li><a routerLink="/app/analytics" (click)="closeMobileMenu()">Reporting</a></li>
			<li><a routerLink="/app/vehicle-register" (click)="closeMobileMenu()">Register</a></li>
			<li><a routerLink="/app/reminder" (click)="closeMobileMenu()">Reminder</a></li>
			<li><a routerLink="/app/user-management" (click)="closeMobileMenu()">User Management</a></li>
			<li><a routerLink="/app/policies" (click)="closeMobileMenu()">Policies</a></li>
			<li><a routerLink="/app/notifications" (click)="closeMobileMenu()">Notifications</a></li>
			<li><a routerLink="/app/billing" (click)="closeMobileMenu()">Billing</a></li>
			<li><a routerLink="/app/settings" (click)="closeMobileMenu()">Settings</a></li>
		</ul>
	</nav>
	<div class="mobile-drawer-footer">
		<button class="logout-btn" (click)="signOut(); closeMobileMenu()">Log out</button>
	</div>
</div>
<div class="drawer-backdrop" *ngIf="mobileMenuOpen" (click)="toggleMobileMenu()"></div>

<div class="app-shell">
	<aside class="side-nav" [class.collapsed]="sideNavCollapsed">
    <ul>
			<li (click)="navigateTo('/dashboard')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 13h8V3H3v10zM13 21h8V11h-8v10zM13 3v6h8V3h-8z"/></svg>
				</span>
				<span class="label">Dashboard</span>
			</li>
			<li (click)="navigateTo('/policies')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 7h16v10H4z"/><path d="M6 7v-2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2"/></svg>
				</span>
				<span class="label">Policies</span>
			</li>
			<li (click)="navigateTo('/analytics')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 3v18h18"/><path d="M7 13v6M12 7v12M17 11v8"/></svg>
				</span>
				<span class="label">Reporting</span>
			</li>
			<li (click)="navigateTo('/vehicle-register')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="3" y="7" width="18" height="8" rx="2"/><circle cx="7.5" cy="17.5" r="1.5"/><circle cx="16.5" cy="17.5" r="1.5"/></svg>
				</span>
				<span class="label">Vehicle Register</span>
			</li>
			<li (click)="navigateTo('/user-management')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/><path d="M6 20v-1a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v1"/></svg>
				</span>
				<span class="label">User Management</span>
			</li>
			<li (click)="navigateTo('/billing')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 3h18v18H3z"/><path d="M7 7h10v4H7z"/></svg>
				</span>
				<span class="label">Billing</span>
			</li>
			<li (click)="navigateTo('/notifications')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 22s3-1 3-3h-6c0 2 3 3 3 3z"/><path d="M18 8a6 6 0 1 0-12 0v5l-2 2v1h16v-1l-2-2V8z"/></svg>
				</span>
				<span class="label">Notifications</span>
			</li>
			<li (click)="navigateTo('/settings')">
				<span class="nav-icon">
					<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 15.5A3.5 3.5 0 1 0 12 8.5a3.5 3.5 0 0 0 0 7z"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 1 1 2.3 19.65l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09c.7 0 1.31-.4 1.51-1a1.65 1.65 0 0 0-.33-1.82L3.3 6.3A2 2 0 1 1 6.13 3.47l.06.06a1.65 1.65 0 0 0 1.82.33c.6-.34 1.31-.34 1.91 0 .66.38 1.47.38 2.12 0 .6-.34 1.31-.34 1.91 0 .6.34 1.31.34 1.91 0 .66-.38 1.47-.38 2.12 0 .6.34 1.31.34 1.91 0"/></svg>
				</span>
				<span class="label">Settings</span>
			</li>
    </ul>
  </aside>

  <main class="main-content">
    <div class="main-container">
      <div class="main-body">
        <p>Main layout works â€” dashboard UI will be implemented next.</p>
      </div>
    </div>
  </main>
</div>
